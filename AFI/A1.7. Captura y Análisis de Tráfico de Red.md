# **A1.7. Captura y Análisis de Tráfico de Red**


<img width="900" height="501" alt="image" src="https://github.com/user-attachments/assets/cfbe0ed2-1f81-487d-87cc-37c777eae175" />



## 1. **Preparación de la Herramienta:**

Empezaremos esta actividad descargando **Wireshark** en el siguiente enlace:

[https://www.wireshark.org/](https://www.wireshark.org/)

Nos aseguraremos que está marcada la casilla para instalar **Npcap** (necesario para capturar tráfico):

<img width="573" height="471" alt="image" src="https://github.com/user-attachments/assets/849fb4ad-4e59-41f8-9a03-273b66f4e864" />

Una vez terminada la instalación, ejecutaremos Wireshark con permisos de administrador.

Accederemos a la siguiente **URL**:

[http://testphp.vulnweb.com/login.php](http://testphp.vulnweb.com/login.php)

Esta web nos ofrece un **formulario HTTP** para hacer prácticas, nos deberemos asegurar que la URL use **http://** y no **https://** para poder ver texto en claro.  
## 2. **Captura de Tráfico:**

Abriremos Wireshark y nos iremos a **Captura → Filtros de Captura**, le daremos al **\+** y escribiremos **tcp port 80** como nombre del filtro y **host testphp.vulnweb.com and tcp port 80** como expresión de filtro, por último le daremos a **Aceptar.**

<img width="640" height="693" alt="A1 7  Captura y Análisis de Tráfico de Red-2" src="https://github.com/user-attachments/assets/f82f1d5f-d7c8-4b79-897c-ef567c872359" />

Ahora entraremos en la interfaz de Wi-Fi:

<img width="1920" height="1020" alt="A1 7  Captura y Análisis de Tráfico de Red-4" src="https://github.com/user-attachments/assets/d7061d35-55ed-4266-80e3-551230c9b773" />
 
## 3. **Conexión a un Sitio Web:**

 Accederemos a la web y en **username** pondremos como ejemplo **prueba** y en password **1234**, pero no le daremos a login todavia:

<img width="960" height="1020" alt="A1 7  Captura y Análisis de Tráfico de Red-3" src="https://github.com/user-attachments/assets/da84d5c8-ee52-440f-8118-92cae6aa0791" />

## 4. **Análisis del Tráfico Capturado:**

Filtraremos las **peticiones HTTP**:

Le daremos a **login** en el **formulario**, seguidamente en la parte inferior podemos ver los **parámetros del formulario** gracias a que nos ha filtrado las cuatro **peticiones HTTP**

<img width="1920" height="1020" alt="A1 7  Captura y Análisis de Tráfico de Red-5" src="https://github.com/user-attachments/assets/742a4a2b-442b-4f4e-b21d-6d0f094d78e9" />

Ahora extraeremos los archivos tranferidos mediante HTTP, le daremos a **Archivo → Exportar objetos → HTTP**

<img width="960" height="1020" alt="A1 7  Captura y Análisis de Tráfico de Red-6" src="https://github.com/user-attachments/assets/09ebc20d-9f01-428d-9f57-f1d5db984042" />

Aqui tenemos los tres archivos, le daremos a **guardar todo** y los guardaremos uno por uno en una carpeta que crearemos en el disco local:

<img width="940" height="689" alt="A1 7  Captura y Análisis de Tráfico de Red-7" src="https://github.com/user-attachments/assets/b19209db-e455-41de-9c48-e1d42fda926a" />

Como podemos ver se han guardado correctamente:

<img width="1920" height="1020" alt="A1 7  Captura y Análisis de Tráfico de Red-8" src="https://github.com/user-attachments/assets/a381f3be-e423-4114-b90f-ab846a88afe4" />

Ahora vamos a guardar la **captura completa**, le daremos a **Archivo → Guardar como**:

<img width="960" height="1020" alt="A1 7  Captura y Análisis de Tráfico de Red-9" src="https://github.com/user-attachments/assets/258d91d0-948d-4274-96aa-31320400899b" />

Seleccionamos la carpeta que creamos anteriormente y le ponemos el siguiente nombre **captura_http_login.pcapng** y le damos a **Guardar**:

<img width="1097" height="907" alt="A1 7  Captura y Análisis de Tráfico de Red-10" src="https://github.com/user-attachments/assets/88b06f8a-60f5-49bd-a00d-c3a0b5fe11ef" />

Como podemos ver se ha guardado correctamente la captura completa en dicha carpeta:

<img width="1920" height="1020" alt="A1 7  Captura y Análisis de Tráfico de Red-11" src="https://github.com/user-attachments/assets/f70b0fef-ab37-4f8b-bfda-0900aa2f00e1" />

## 5. ** **











